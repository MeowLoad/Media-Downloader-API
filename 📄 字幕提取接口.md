# 字幕提取接口文档 📄

> [!IMPORTANT]
> ## 📢 哼哼猫最近新增了一些 API
> 请前往 👉 **[哼哼猫文档中心](https://docs.henghengmao.com/zh/developer/video-subtitle-downloader-api)** 查看最新版本接口文档。

> API 基于 REST 架构设计。API 具有结构清晰的面向资源的 URL，接收 JSON 格式的请求体，返回 JSON 格式的响应，并使用标准的 HTTP 响应状态码。

该接口为字幕提取接口，目前仅支持`YouTube`。如需要其他支持，请联系哼哼猫客服。

### 请求参数

**接口地址:** `https://api.meowload.net/openapi/extract/subtitles`

**请求方式:** `POST`

**请求 Content-Type:** `application/json`

**请求头(Header)**

| 请求头            | 说明                                                                            |
| :---------------- | :------------------------------------------------------------------------------ |
| `x-api-key`       | API-Key，在[开发者接口管理](https://www.henghengmao.com/user/developer)页面获取 |
| `accept-language` | 错误返回时 message 的语言，默认`en`，支持`zh`、`en`、`ja`、`es`、`de`等         |

**请求参数(Body)**

| 参数  | 说明             |
| ----- | ---------------- |
| `url` | 视频分享链接地址 |

### 🟢 成功返回数据示例

> HTTP 状态码为 200

```json
{
  "id": "bdLEBN6JKPY",
  "text": "Germán Santillán: A taste of Mexico's ancient chocolate-making tradition | TED",
  "description": "Dating back more than 800 years, chocolate is deeply woven into the Indigenous history of Oaxaca, Mexico. TED Fellow Germán Santillán talks about his work reviving the Mixtec technique used to prepare this ancient delicacy by training a new generation of local farmers -- helping create economic opportunity and preserve a delicious legacy at the same time.",
  "duration": 363,
  "published_at": "2021-09-13T08:00:32-07:00",
  "thumbnail_url": "https://i.ytimg.com/vi_webp/bdLEBN6JKPY/maxresdefault.webp",
  "subtitles": [
    {
      "language_name": "Chinese (China)",
      "language_tag": "zh-CN",
      "urls": [
        {
          "url": "https://www.youtube.com/api/timedtext?caps=asr&ei=01nvaMbjNvCAkucP4IXSCA&expire=1760541763&fmt=srt&hl=en&ip=0.0.0.0&ipbits=0&key=yt8&lang=zh-CN&opi=112496729&signature=E158AD64685FBE2DDBA0BB2D195C69511B2628B4.35E9C1D9A74FC3C880B4B309A350C25B1079CBED&sparams=ip%2Cipbits%2Cexpire%2Cv%2Cei%2Ccaps%2Copi%2Cxoaf&v=bdLEBN6JKPY&xoaf=5&xowf=1",
          "format": "srt"
        },
        {
          "url": "https://www.youtube.com/api/timedtext?caps=asr&ei=01nvaMbjNvCAkucP4IXSCA&expire=1760541763&fmt=vtt&hl=en&ip=0.0.0.0&ipbits=0&key=yt8&lang=zh-CN&opi=112496729&signature=E158AD64685FBE2DDBA0BB2D195C69511B2628B4.35E9C1D9A74FC3C880B4B309A350C25B1079CBED&sparams=ip%2Cipbits%2Cexpire%2Cv%2Cei%2Ccaps%2Copi%2Cxoaf&v=bdLEBN6JKPY&xoaf=5&xowf=1",
          "format": "vtt"
        },
        {
          "url": "https://www.youtube.com/api/timedtext?caps=asr&ei=01nvaMbjNvCAkucP4IXSCA&expire=1760541763&fmt=ttml&hl=en&ip=0.0.0.0&ipbits=0&key=yt8&lang=zh-CN&opi=112496729&signature=E158AD64685FBE2DDBA0BB2D195C69511B2628B4.35E9C1D9A74FC3C880B4B309A350C25B1079CBED&sparams=ip%2Cipbits%2Cexpire%2Cv%2Cei%2Ccaps%2Copi%2Cxoaf&v=bdLEBN6JKPY&xoaf=5&xowf=1",
          "format": "ttml"
        },
        {
          "url": "https://www.youtube.com/api/timedtext?caps=asr&ei=01nvaMbjNvCAkucP4IXSCA&expire=1760541763&fmt=json3&hl=en&ip=0.0.0.0&ipbits=0&key=yt8&lang=zh-CN&opi=112496729&signature=E158AD64685FBE2DDBA0BB2D195C69511B2628B4.35E9C1D9A74FC3C880B4B309A350C25B1079CBED&sparams=ip%2Cipbits%2Cexpire%2Cv%2Cei%2Ccaps%2Copi%2Cxoaf&v=bdLEBN6JKPY&xoaf=5&xowf=1",
          "format": "json3"
        },
        {
          "url": "https://www.youtube.com/api/timedtext?caps=asr&ei=01nvaMbjNvCAkucP4IXSCA&expire=1760541763&fmt=srv1&hl=en&ip=0.0.0.0&ipbits=0&key=yt8&lang=zh-CN&opi=112496729&signature=E158AD64685FBE2DDBA0BB2D195C69511B2628B4.35E9C1D9A74FC3C880B4B309A350C25B1079CBED&sparams=ip%2Cipbits%2Cexpire%2Cv%2Cei%2Ccaps%2Copi%2Cxoaf&v=bdLEBN6JKPY&xoaf=5&xowf=1",
          "format": "srv1"
        },
        {
          "url": "https://www.youtube.com/api/timedtext?caps=asr&ei=01nvaMbjNvCAkucP4IXSCA&expire=1760541763&fmt=srv2&hl=en&ip=0.0.0.0&ipbits=0&key=yt8&lang=zh-CN&opi=112496729&signature=E158AD64685FBE2DDBA0BB2D195C69511B2628B4.35E9C1D9A74FC3C880B4B309A350C25B1079CBED&sparams=ip%2Cipbits%2Cexpire%2Cv%2Cei%2Ccaps%2Copi%2Cxoaf&v=bdLEBN6JKPY&xoaf=5&xowf=1",
          "format": "srv2"
        },
        {
          "url": "https://www.youtube.com/api/timedtext?caps=asr&ei=01nvaMbjNvCAkucP4IXSCA&expire=1760541763&fmt=srv3&hl=en&ip=0.0.0.0&ipbits=0&key=yt8&lang=zh-CN&opi=112496729&signature=E158AD64685FBE2DDBA0BB2D195C69511B2628B4.35E9C1D9A74FC3C880B4B309A350C25B1079CBED&sparams=ip%2Cipbits%2Cexpire%2Cv%2Cei%2Ccaps%2Copi%2Cxoaf&v=bdLEBN6JKPY&xoaf=5&xowf=1",
          "format": "srv3"
        }
      ]
    },
    {
      "language_name": "English",
      "language_tag": "en",
      "urls": [
        {
          "url": "https://www.youtube.com/api/timedtext?caps=asr&ei=01nvaMbjNvCAkucP4IXSCA&expire=1760541763&fmt=srt&hl=en&ip=0.0.0.0&ipbits=0&key=yt8&lang=en&opi=112496729&signature=E158AD64685FBE2DDBA0BB2D195C69511B2628B4.35E9C1D9A74FC3C880B4B309A350C25B1079CBED&sparams=ip%2Cipbits%2Cexpire%2Cv%2Cei%2Ccaps%2Copi%2Cxoaf&v=bdLEBN6JKPY&xoaf=5&xowf=1",
          "format": "srt"
        },
        {
          "url": "https://www.youtube.com/api/timedtext?caps=asr&ei=01nvaMbjNvCAkucP4IXSCA&expire=1760541763&fmt=vtt&hl=en&ip=0.0.0.0&ipbits=0&key=yt8&lang=en&opi=112496729&signature=E158AD64685FBE2DDBA0BB2D195C69511B2628B4.35E9C1D9A74FC3C880B4B309A350C25B1079CBED&sparams=ip%2Cipbits%2Cexpire%2Cv%2Cei%2Ccaps%2Copi%2Cxoaf&v=bdLEBN6JKPY&xoaf=5&xowf=1",
          "format": "vtt"
        },
        {
          "url": "https://www.youtube.com/api/timedtext?caps=asr&ei=01nvaMbjNvCAkucP4IXSCA&expire=1760541763&fmt=ttml&hl=en&ip=0.0.0.0&ipbits=0&key=yt8&lang=en&opi=112496729&signature=E158AD64685FBE2DDBA0BB2D195C69511B2628B4.35E9C1D9A74FC3C880B4B309A350C25B1079CBED&sparams=ip%2Cipbits%2Cexpire%2Cv%2Cei%2Ccaps%2Copi%2Cxoaf&v=bdLEBN6JKPY&xoaf=5&xowf=1",
          "format": "ttml"
        },
        {
          "url": "https://www.youtube.com/api/timedtext?caps=asr&ei=01nvaMbjNvCAkucP4IXSCA&expire=1760541763&fmt=json3&hl=en&ip=0.0.0.0&ipbits=0&key=yt8&lang=en&opi=112496729&signature=E158AD64685FBE2DDBA0BB2D195C69511B2628B4.35E9C1D9A74FC3C880B4B309A350C25B1079CBED&sparams=ip%2Cipbits%2Cexpire%2Cv%2Cei%2Ccaps%2Copi%2Cxoaf&v=bdLEBN6JKPY&xoaf=5&xowf=1",
          "format": "json3"
        },
        {
          "url": "https://www.youtube.com/api/timedtext?caps=asr&ei=01nvaMbjNvCAkucP4IXSCA&expire=1760541763&fmt=srv1&hl=en&ip=0.0.0.0&ipbits=0&key=yt8&lang=en&opi=112496729&signature=E158AD64685FBE2DDBA0BB2D195C69511B2628B4.35E9C1D9A74FC3C880B4B309A350C25B1079CBED&sparams=ip%2Cipbits%2Cexpire%2Cv%2Cei%2Ccaps%2Copi%2Cxoaf&v=bdLEBN6JKPY&xoaf=5&xowf=1",
          "format": "srv1"
        },
        {
          "url": "https://www.youtube.com/api/timedtext?caps=asr&ei=01nvaMbjNvCAkucP4IXSCA&expire=1760541763&fmt=srv2&hl=en&ip=0.0.0.0&ipbits=0&key=yt8&lang=en&opi=112496729&signature=E158AD64685FBE2DDBA0BB2D195C69511B2628B4.35E9C1D9A74FC3C880B4B309A350C25B1079CBED&sparams=ip%2Cipbits%2Cexpire%2Cv%2Cei%2Ccaps%2Copi%2Cxoaf&v=bdLEBN6JKPY&xoaf=5&xowf=1",
          "format": "srv2"
        },
        {
          "url": "https://www.youtube.com/api/timedtext?caps=asr&ei=01nvaMbjNvCAkucP4IXSCA&expire=1760541763&fmt=srv3&hl=en&ip=0.0.0.0&ipbits=0&key=yt8&lang=en&opi=112496729&signature=E158AD64685FBE2DDBA0BB2D195C69511B2628B4.35E9C1D9A74FC3C880B4B309A350C25B1079CBED&sparams=ip%2Cipbits%2Cexpire%2Cv%2Cei%2Ccaps%2Copi%2Cxoaf&v=bdLEBN6JKPY&xoaf=5&xowf=1",
          "format": "srv3"
        }
      ]
    }
  ]
}
```

**返回结果字段说明**

| 字段                          | 说明                             | 是否一定有值 |
| ----------------------------- | -------------------------------- | ------------ |
| `text`                        | 视频标题                         | ✨ 一定有    |
| `description`                 | 视频详细描述                     | 💭 可能没有  |
| `subtitles -> language_name`  | 语言名称                         | ✨ 一定有    |
| `subtitles -> language_tag`   | 语言标签                         | ✨ 一定有    |
| `subtitles -> urls`           | 该语言各种字幕格式对应的下载地址 | ✨ 一定有    |
| `subtitles -> urls -> format` | 字幕格式                         | ✨ 一定有    |
| `subtitles -> urls -> url`    | 字幕下载地址                     | ✨ 一定有    |

### 🔴 失败返回示例

> HTTP 状态码非 200，比如 400、422、401、402、500 等

```
{
    "message": "链接格式错误"
}
```

### 响应 HTTP 状态码说明

| HTTP 状态码 | 说明           | 返回内容示例                                 |
| :---------- | :------------- | :------------------------------------------- |
| 200         | 成功           | 参考上述成功返回数据示例                     |
| 400         | 业务失败       | 提取失败，请检查视频是否包含字幕             |
| 422         | 参数错误       | 链接格式错误                                 |
| 401         | 鉴权失败       | 请检查 API-Key 是否正确                      |
| 402         | 调用次数已用完 | 接口调用额度已用完，请及时充值               |
| 500         | 未知错误       | 该错误一般不会遇到，如果遇到，请联系技术支持 |
